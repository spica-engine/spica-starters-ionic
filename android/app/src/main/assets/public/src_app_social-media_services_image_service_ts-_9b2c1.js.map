{"version":3,"sources":["./src/app/social-media/services/environment.ts","./src/app/social-media/services/image.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,sBAAsB;IAClC,OAAO,EAAE,qDAAqD;IAC9D,aAAa,EAAE,kBAAkB;IACjC,UAAU,EAAE,KAAK;IACjB,MAAM,EAAE,EAAE;IACV,QAAQ,EACN,2IAA2I;IAC7I,SAAS,EAAE;QACT,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE;QAC/B,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE;QAC/B,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE;KAChC;IACD,cAAc,EACZ,oFAAoF;CACvF,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;;;;;;;;;AC5BxB;AACM;AACL;IAK/B,YAAY,SAAZ,YAAY;IACvB,gBAAe,CAAC;IAER,IAAI;QACV,IAAI,gBAAgB,CAAC;QACrB,IAAI,YAAY,CAAC,OAAO,CAAC,yBAAyB,CAAC,EAAE;YACnD,gBAAgB,GAAG;gBACjB,SAAS,EAAE,6DAAmB;gBAC9B,QAAQ,EAAE,YAAY,CAAC,OAAO,CAAC,yBAAyB,CAAC;aAC1D,CAAC;SACH;aAAM;YACL,gBAAgB,GAAG;gBACjB,SAAS,EAAE,6DAAmB;gBAC9B,MAAM,EAAE,mEAAyB;aAClC,CAAC;SACH;QACD,6DAAkB,CAAC,gBAAgB,CAAC,CAAC;IACvC,CAAC;IAED,MAAM,CAAC,aAAa,EAAE,OAAO;QAC3B,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,OAAO,EAAE;YACX,OAAO,yDAAc,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;SAC/C;aAAM;YACL,OAAO,yDAAc,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9D;IACH,CAAC;IAED,QAAQ,CAAC,MAAM,EAAE,IAAI,GAAG,EAAE;QACxB,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9B,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzC,MAAM,GAAG,GAAG,YAAY,CAAC,MAAM,CAAC;QAChC,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC;QAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC5B,KAAK,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SACvC;QACD,OAAO,KAAK,CAAC,MAAM,CAAC;IACtB,CAAC;CACF;;AAtCY,YAAY;IAHxB,yDAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,YAAY,CAsCxB;AAtCwB","file":"src_app_social-media_services_image_service_ts-_9b2c1.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  project_id: 'spica-starters-7229b',\n  api_url: 'https://spica-starters-7229b.hq.spicaengine.com/api',\n  public_apikey: 'axfb9k1akx06fe2u',\n  production: false,\n  webURL: '',\n  user_img:\n    'https://storage.googleapis.com/download/storage/v1/b/hq-spica-starters-7229b/o/61b70351fcfbb9002efed548?alt=media&timestamp=1639383890618',\n  languages: [\n    { code: 'en', name: 'English' },\n    { code: 'tr', name: 'Turkish' },\n    { code: 'ru', name: 'Russian' },\n  ],\n  example_base64:\n    'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAAAAAAALAAAAAABAAEAAAICTAEAOw==',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Injectable } from '@angular/core';\nimport * as Storage from '@spica-devkit/storage';\nimport { environment } from './environment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ImageService {\n  constructor() {}\n\n  private init() {\n    let initializeConfig;\n    if (localStorage.getItem('socialmedia_spica_token')) {\n      initializeConfig = {\n        publicUrl: environment.api_url,\n        identity: localStorage.getItem('socialmedia_spica_token'),\n      };\n    } else {\n      initializeConfig = {\n        publicUrl: environment.api_url,\n        apikey: environment.public_apikey,\n      };\n    }\n    Storage.initialize(initializeConfig);\n  }\n\n  insert(storageObject, imageId): Promise<Storage.StorageObject> {\n    this.init();\n    if (imageId) {\n      return Storage.update(imageId, storageObject);\n    } else {\n      return Storage.insert(storageObject).then((v) => (v = v[0]));\n    }\n  }\n\n  toBuffer(base64, type = '') {\n    base64 = base64.split(',')[1];\n    const binaryString = window.atob(base64);\n    const len = binaryString.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n  }\n}\n"],"sourceRoot":"webpack:///"}