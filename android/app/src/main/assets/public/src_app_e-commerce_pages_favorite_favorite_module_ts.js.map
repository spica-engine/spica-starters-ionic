{"version":3,"sources":["./src/app/e-commerce/pages/favorite/favorite-routing.module.ts","./src/app/e-commerce/pages/favorite/favorite.module.ts","./src/app/e-commerce/pages/favorite/favorite.page.ts","./src/app/e-commerce/pages/favorite/favorite.page.scss","./src/app/e-commerce/pages/favorite/favorite.page.html"],"names":[],"mappings":"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","file":"src_app_e-commerce_pages_favorite_favorite_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FavoritePage } from './favorite.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FavoritePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FavoritePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FavoritePageRoutingModule } from './favorite-routing.module';\n\nimport { FavoritePage } from './favorite.page';\nimport { SpicaComponentsModule } from 'src/app/components/components.module';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FavoritePageRoutingModule,\n    SpicaComponentsModule\n  ],\n  declarations: [FavoritePage]\n})\nexport class FavoritePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\nimport * as dataService from '../../services/bucket';\n\n@Component({\n  selector: 'app-favorite',\n  templateUrl: './favorite.page.html',\n  styleUrls: ['./favorite.page.scss'],\n})\nexport class FavoritePage {\n  likedProducts: any = [];\n  likedDataId: string;\n  isLoading: boolean = true;\n  user: dataService.User;\n\n  constructor(private _authService: AuthService, private _router: Router) {\n    this._authService.initBucket();\n  }\n\n  async ionViewWillEnter() {\n    this.user = await this.getActiveUser();\n    if (this.user) {\n      await this.getLikedData();\n    }\n    this.isLoading = false;\n  }\n\n  async getActiveUser() {\n    return this._authService.getUser().toPromise();\n  }\n\n  async getLikedData() {\n    return dataService.liked_product\n      .getAll({\n        queryParams: { filter: { user: this.user._id }, relation: true },\n      })\n      .then((res) => {\n        if(res.length){\n          this.likedDataId = res[0]._id;\n          this.likedProducts = res[0].products;\n          this.likedProducts.forEach((el) => {\n            el['is_liked'] = true;\n          });\n        }\n      });\n  }\n\n  likeChanged(id) {\n    if (!this._authService.getActiveToken()) {\n      this._router.navigate(['e-commerce/tabs/profile']);\n      return;\n    }\n\n    this.likedProducts = this.likedProducts.filter((el) => {\n      return el._id !== id;\n    });\n\n    dataService.liked_product.patch({\n      products: this.likedProducts,\n      _id: this.likedDataId,\n    });\n  }\n}\n","export default \":host ion-content .spinner-container {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n:host ion-content .empty-container {\\n  margin: auto;\\n  width: 85%;\\n  display: flex;\\n  justify-content: center;\\n  flex-direction: column;\\n  align-items: center;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n:host ion-content .empty-container ion-label {\\n  font-weight: 500;\\n  font-size: 17px;\\n  margin-top: 20px;\\n}\\n:host ion-content .empty-container p {\\n  margin: 40px 0;\\n  text-align: center;\\n}\\n:host ion-content .products {\\n  width: 100%;\\n  display: flex;\\n  flex-wrap: wrap;\\n  padding: 5px;\\n}\\n:host ion-content .products spica-product-card {\\n  margin: 5px;\\n  min-width: calc(50% - 10px) !important;\\n  max-width: calc(50% - 10px) !important;\\n}\\n:host ion-content .products spica-product-card ::ng-deep img {\\n  max-height: 175px !important;\\n  height: calc(100vw * 0.55) !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhdm9yaXRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFETjtBQUlJO0VBQ0UsWUFBQTtFQUNBLFVBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGdDQUFBO0FBRk47QUFJTTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBRlI7QUFLTTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtBQUhSO0FBT0k7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0FBTE47QUFPTTtFQUNFLFdBQUE7RUFDQSxzQ0FBQTtFQUNBLHNDQUFBO0FBTFI7QUFRVTtFQUNFLDRCQUFBO0VBQ0EscUNBQUE7QUFOWiIsImZpbGUiOiJmYXZvcml0ZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGlvbi1jb250ZW50IHtcbiAgICAuc3Bpbm5lci1jb250YWluZXIge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cblxuICAgIC5lbXB0eS1jb250YWluZXIge1xuICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgd2lkdGg6IDg1JTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiA1MCU7XG4gICAgICBsZWZ0OiA1MCU7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcblxuICAgICAgaW9uLWxhYmVsIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgZm9udC1zaXplOiAxN3B4O1xuICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgfVxuXG4gICAgICBwIHtcbiAgICAgICAgbWFyZ2luOiA0MHB4IDA7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAucHJvZHVjdHMge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgcGFkZGluZzogNXB4O1xuXG4gICAgICBzcGljYS1wcm9kdWN0LWNhcmQge1xuICAgICAgICBtYXJnaW46IDVweDtcbiAgICAgICAgbWluLXdpZHRoOiBjYWxjKDUwJSAtIDEwcHgpICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC13aWR0aDogY2FsYyg1MCUgLSAxMHB4KSAhaW1wb3J0YW50O1xuXG4gICAgICAgIDo6bmctZGVlcCB7XG4gICAgICAgICAgaW1nIHtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDE3NXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdncgKiAwLjU1KSAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */\";","export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar>\\n    <ion-title>favorite</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ng-container *ngIf=\\\"!likedProducts.length && !isLoading\\\">\\n    <div class=\\\"empty-container\\\">\\n      <img\\n        src=\\\"https://pngimg.com/uploads/shopping_bag/small/shopping_bag_PNG6371.png\\\"\\n        alt=\\\"\\\"\\n      />\\n      <ion-label>Favorite Is Empty</ion-label>\\n      <p>\\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\\n        tempor incididunt\\n      </p>\\n    </div>\\n  </ng-container>\\n\\n  <ion-list class=\\\"products\\\" *ngIf=\\\"likedProducts.length && !isLoading\\\">\\n    <!-- [routerLink]=\\\"['/e-commerce/products/product-detail/' + product._id]\\\" -->\\n    <spica-product-card\\n      *ngFor=\\\"let product of likedProducts\\\"\\n      [data]=\\\"product\\\"\\n      (likeChanged)=\\\"likeChanged(product._id )\\\"\\n     \\n    ></spica-product-card>\\n  </ion-list>\\n\\n  <div class=\\\"spinner-container\\\" *ngIf=\\\"isLoading\\\">\\n    <ion-spinner></ion-spinner>\\n  </div>\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}