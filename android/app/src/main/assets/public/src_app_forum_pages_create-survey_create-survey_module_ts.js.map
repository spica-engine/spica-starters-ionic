{"version":3,"sources":["./src/app/forum/pages/create-survey/create-survey-routing.module.ts","./src/app/forum/pages/create-survey/create-survey.module.ts","./src/app/forum/pages/create-survey/create-survey.page.ts","./src/app/forum/pages/create-survey/create-survey.page.scss","./src/app/forum/pages/create-survey/create-survey.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEC;AAExD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,iEAAgB;KAC5B;CACF,CAAC;IAMW,6BAA6B,SAA7B,6BAA6B;CAAG;AAAhC,6BAA6B;IAJzC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,6BAA6B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;AChBD;AACM;AACF;AAEA;AAEkC;AAEvB;AACqB;IAYhE,sBAAsB,SAAtB,sBAAsB;CAAG;AAAzB,sBAAsB;IAVlC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,wFAA6B;YAC7B,uFAAqB;SACtB;QACD,YAAY,EAAE,CAAC,iEAAgB,CAAC;KACjC,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBO;AACD;AACiB;AACL;IAOxC,gBAAgB,SAAhB,gBAAgB;IAO3B,YAAoB,OAAe,EAAU,YAAyB;QAAlD,YAAO,GAAP,OAAO,CAAQ;QAAU,iBAAY,GAAZ,YAAY,CAAa;QALtE,eAAU,GAAQ,EAAE,CAAC;QAErB,gBAAW,GAAW,EAAE,CAAC;QAIvB,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;IACjC,CAAC;IAEK,gBAAgB;;YACpB,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,SAAS,EAAE,CAAC;YAC1D,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,sBAAsB,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;aAC1E;QACH,CAAC;KAAA;IAEK,YAAY;;YAChB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;YACxD,IAAI,CAAC,SAAS,GAAG,MAAM,2DAAyB,CAAC;gBAC/C,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG;gBACnB,KAAK,EAAE,IAAI,CAAC,WAAW;gBACvB,UAAU,EAAE,IAAI,CAAC,UAAU;aAC5B,CAAC,CAAC;QACL,CAAC;KAAA;IAED,YAAY;QACV,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC;IACvC,CAAC;IAED,eAAe;QACb,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;IACxB,CAAC;CACF;;YA3CQ,mDAAM;YACN,+DAAW;;AAQP,gBAAgB;IAL5B,wDAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,kFAAwC;;KAEzC,CAAC;GACW,gBAAgB,CAkC5B;AAlC4B;;;;;;;;;;;;;;;;ACV7B,iEAAe,6BAA6B,kBAAkB,4BAA4B,2BAA2B,wBAAwB,qBAAqB,oBAAoB,GAAG,4CAA4C,gBAAgB,6BAA6B,oBAAoB,GAAG,oDAAoD,qBAAqB,gBAAgB,oBAAoB,GAAG,8DAA8D,0DAA0D,oBAAoB,GAAG,uCAAuC,qBAAqB,GAAG,6CAA6C,m3CAAm3C,E;;;;;;;;;;;;;;;ACAvgE,iEAAe,qZAAqZ,uEAAuE,mBAAmB,OAAO,iwBAAiwB,E","file":"src_app_forum_pages_create-survey_create-survey_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CreateSurveyPage } from './create-survey.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CreateSurveyPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreateSurveyPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CreateSurveyPageRoutingModule } from './create-survey-routing.module';\n\nimport { CreateSurveyPage } from './create-survey.page';\nimport { SpicaComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CreateSurveyPageRoutingModule,\n    SpicaComponentsModule\n  ],\n  declarations: [CreateSurveyPage]\n})\nexport class CreateSurveyPageModule {}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\nimport * as DataService from '../../services/bucket';\n\n@Component({\n  selector: 'app-create-survey',\n  templateUrl: './create-survey.page.html',\n  styleUrls: ['./create-survey.page.scss'],\n})\nexport class CreateSurveyPage {\n  user: DataService.User;\n  selections: any = [];\n  data: boolean;\n  surveyTitle: string = '';\n  newSurvey: DataService.Survey;\n\n  constructor(private _router: Router, private _authService: AuthService) {\n    this._authService.initBucket();\n  }\n\n  async ionViewWillEnter() {\n    this.user = await this._authService.getUser().toPromise();\n    if (!this.user) {\n      this._router.navigateByUrl('/forum/authorization', { replaceUrl: true });\n    }\n  }\n\n  async createSurvey() {\n    this._router.navigate(['/forum'], { replaceUrl: true });\n    this.newSurvey = await DataService.survey.insert({\n      user: this.user._id,\n      title: this.surveyTitle,\n      selections: this.selections,\n    });\n  }\n\n  addSelection() {\n    this.selections.push({ option: '' });\n  }\n\n  removeSelection() {\n    this.selections.pop();\n  }\n}\n","export default \":host ion-content .content {\\n  display: flex;\\n  justify-content: center;\\n  flex-direction: column;\\n  align-items: center;\\n  margin-top: 50px;\\n  padding: 0 20px;\\n}\\n:host ion-content .content .survey-title {\\n  width: 100%;\\n  border-bottom: 1px solid;\\n  font-size: 18px;\\n}\\n:host ion-content .content .selections-container {\\n  margin-top: 20px;\\n  width: 100%;\\n  padding: 0 20px;\\n}\\n:host ion-content .content .selections-container ion-input {\\n  border-bottom: 1px solid var(--ion-color-light-shade);\\n  padding: 0 10px;\\n}\\n:host ion-content .content .buttons {\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZS1zdXJ2ZXkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVJO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQUROO0FBR007RUFDRSxXQUFBO0VBQ0Esd0JBQUE7RUFDQSxlQUFBO0FBRFI7QUFJTTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUFGUjtBQUdRO0VBQ0UscURBQUE7RUFDQSxlQUFBO0FBRFY7QUFLTTtFQUNFLGdCQUFBO0FBSFIiLCJmaWxlIjoiY3JlYXRlLXN1cnZleS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgaW9uLWNvbnRlbnQge1xyXG4gICAgLmNvbnRlbnQge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgbWFyZ2luLXRvcDogNTBweDtcclxuICAgICAgcGFkZGluZzogMCAyMHB4O1xyXG5cclxuICAgICAgLnN1cnZleS10aXRsZSB7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdGlvbnMtY29udGFpbmVyIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHBhZGRpbmc6IDAgMjBweDtcclxuICAgICAgICBpb24taW5wdXQge1xyXG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1saWdodC1zaGFkZSk7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuYnV0dG9ucyB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0= */\";","export default \"<spica-menu-bar project=\\\"forum\\\"></spica-menu-bar>\\n\\n<ion-content>\\n  <div class=\\\"content\\\" *ngIf=\\\"user\\\">\\n    <h1>Create Survey</h1>\\n    <ion-item lines=\\\"none\\\" class=\\\"survey-title\\\">\\n      <ion-label position=\\\"floating\\\"> Survey Title</ion-label>\\n      <ion-input [(ngModel)]=\\\"surveyTitle\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"none\\\" *ngFor=\\\"let selection of selections; let idx = index\\\" class=\\\"selections-container\\\">\\n      <ion-label>{{selection.label}}{{idx+1}}.</ion-label>\\n      <ion-input\\n        placeholder=\\\"Option\\\"\\n        [(ngModel)]=\\\"selections[idx].option\\\"\\n      ></ion-input>\\n    </ion-item>\\n    <ion-row class=\\\"buttons\\\">\\n      <ion-col\\n        ><ion-button color=\\\"medium\\\" (click)=\\\"addSelection()\\\"\\n          ><ion-icon name=\\\"add-outline\\\"></ion-icon></ion-button\\n      ></ion-col>\\n      <ion-col\\n        ><ion-button color=\\\"medium\\\" (click)=\\\"removeSelection()\\\"\\n          ><ion-icon name=\\\"remove-outline\\\"></ion-icon></ion-button\\n      ></ion-col>\\n      <ion-col\\n        ><ion-button color=\\\"success\\\" (click)=\\\"createSurvey()\\\" [disabled]=\\\"!surveyTitle.length || !selections.length\\\"\\n          >Create</ion-button\\n        ></ion-col\\n      >\\n    </ion-row>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}