{"version":3,"sources":["./src/app/music-streaming/pages/search/search-routing.module.ts","./src/app/music-streaming/pages/search/search.module.ts","./src/app/music-streaming/pages/search/search.page.ts","./src/app/music-streaming/pages/search/search.page.scss","./src/app/music-streaming/pages/search/search.page.html"],"names":[],"mappings":"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","file":"src_app_music-streaming_pages_search_search_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SearchPage } from './search.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SearchPage\n  },\n  {\n    path: 'list',\n    loadChildren: () => import('../list/list.module').then( m => m.ListPageModule)\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SearchPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SearchPageRoutingModule } from './search-routing.module';\n\nimport { SearchPage } from './search.page';\nimport { MusicStreamingComponentModule } from '../../components/music-components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SearchPageRoutingModule,\n    MusicStreamingComponentModule\n  ],\n  declarations: [SearchPage]\n})\nexport class SearchPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AudioService } from '../../services/audio.service';\nimport { AuthService } from '../../services/auth.service';\nimport * as DataService from '../../services/bucket';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.page.html',\n  styleUrls: ['./search.page.scss'],\n})\nexport class SearchPage implements OnInit {\n  searchTerm: string;\n  tracks: DataService.Track[] = [];\n  musicKinds: DataService.Track_Kind[] = [];\n\n  constructor(\n    private _router: Router,\n    private _authService: AuthService,\n    private _audioService: AudioService\n  ) {\n    this._authService.initBucket();\n  }\n\n  async ngOnInit() {\n    this.musicKinds = await this.getMusicKinds();\n  }\n\n  navigateToList(id) {\n    this._router.navigate([`/music-streaming/tabs/search/list/${id}`], {\n      queryParams: { type: 'musicKind' },\n    });\n  }\n\n  async search(terms) {\n    this.tracks = await DataService.track.getAll({\n      queryParams: {\n        filter: {\n          $or: [\n            { name: { $regex: terms, $options: 'i' } },\n            { description: { $regex: terms, $options: 'i' } },\n          ],\n        },\n        limit: 10,\n      },\n    });\n  }\n\n  getMusicKinds() {\n    return DataService.track_kind.getAll();\n  }\n\n  setTrack(track) {\n    this._audioService.setTrack(track);\n  }\n}\n","export default \":host h3 {\\n  margin-left: 10px;\\n}\\n:host .kind-container {\\n  width: 100%;\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n  padding: 0 10px;\\n  margin-bottom: 70px;\\n}\\n:host .kind-container .kind-item {\\n  width: calc(50% - 5px);\\n  height: 120px;\\n  border-radius: 10px;\\n  overflow: hidden;\\n  margin-top: 10px;\\n}\\n:host .list {\\n  padding: 0 15px;\\n  margin-bottom: 70px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxpQkFBQTtBQUFKO0FBR0U7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtBQURKO0FBR0k7RUFDRSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFETjtBQUtFO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0FBSEoiLCJmaWxlIjoic2VhcmNoLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgaDMge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICB9XG5cbiAgLmtpbmQtY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgcGFkZGluZzogMCAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDcwcHg7XG5cbiAgICAua2luZC1pdGVtIHtcbiAgICAgIHdpZHRoOiBjYWxjKDUwJSAtIDVweCk7XG4gICAgICBoZWlnaHQ6IDEyMHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cbiAgfVxuXG4gIC5saXN0IHtcbiAgICBwYWRkaW5nOiAwIDE1cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNzBweDtcbiAgfVxufVxuIl19 */\";","export default \"<ion-content>\\n  <h3>Search</h3>\\n  <ion-searchbar\\n    mode=\\\"ios\\\"\\n    [debounce]=\\\"800\\\"\\n    (ionChange)=\\\"search($event.target['value'])\\\"\\n    [(ngModel)]=\\\"searchTerm\\\"\\n  ></ion-searchbar>\\n\\n  <div class=\\\"kind-container\\\" *ngIf=\\\"!searchTerm\\\">\\n    <div\\n      class=\\\"kind-item\\\"\\n      *ngFor=\\\"let item of musicKinds\\\"\\n      (click)=\\\"navigateToList(item._id)\\\"\\n    >\\n      <type-card [data]=\\\"item\\\"></type-card>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"list\\\" *ngIf=\\\"searchTerm\\\">\\n    <music-list-item\\n      [data]=\\\"{\\n      image: track.cover,\\n      title: track.name,\\n      subTitle: track.artist['name']\\n    }\\\"\\n      *ngFor=\\\"let track of tracks\\\"\\n      (click)=\\\"setTrack(track)\\\"\\n    ></music-list-item>\\n  </div>\\n\\n  <ion-spinner class=\\\"spinner-center-page\\\" *ngIf=\\\"!musicKinds.length\\\"></ion-spinner>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}