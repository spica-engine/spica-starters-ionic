{"version":3,"sources":["./src/app/forum/pages/authorization/authorization-routing.module.ts","./src/app/forum/pages/authorization/authorization.module.ts","./src/app/forum/pages/authorization/authorization.page.ts","./src/app/forum/pages/authorization/authorization.page.scss","./src/app/forum/pages/authorization/authorization.page.html"],"names":[],"mappings":"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","file":"src_app_forum_pages_authorization_authorization_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthorizationPage } from './authorization.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthorizationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthorizationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AuthorizationPageRoutingModule } from './authorization-routing.module';\n\nimport { AuthorizationPage } from './authorization.page';\nimport { SpicaComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    AuthorizationPageRoutingModule,\n    SpicaComponentsModule\n  ],\n  declarations: [AuthorizationPage]\n})\nexport class AuthorizationPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\nimport { CommonService } from 'src/app/services/common.service';\nimport * as DataService from '../../services/bucket';\n\n@Component({\n  selector: 'app-authorization',\n  templateUrl: './authorization.page.html',\n  styleUrls: ['./authorization.page.scss'],\n})\nexport class AuthorizationPage implements OnInit {\n  screen: string = 'login';\n  loginForm: FormGroup;\n  user: DataService.User;\n  isLoading: boolean = false;\n  constructor(\n    private _formBuilder: FormBuilder,\n    private _authService: AuthService,\n    private _router: Router,\n    private _commonService: CommonService\n  ) {\n    this._authService.initBucket();\n\n    this.loginForm = this._formBuilder.group({\n      email: '',\n      password: '',\n      termsOfUse: '',\n    });\n  }\n\n  ngOnInit() {}\n\n  login(loginData) {\n    this.isLoading = true;\n    this._authService\n      .login(loginData.email, loginData.password)\n      .toPromise()\n      .then(() => {\n        this.isLoading = false;\n        this._authService.initBucket();\n        this._router.navigate(['/forum'], { replaceUrl: true });\n      })\n      .catch((err) => {\n        this.isLoading = false;\n        this._commonService.presentToast(err.message, 1500);\n      });\n  }\n\n  register(registerData) {\n    this.isLoading = true;\n    delete registerData['termsOfUse'];\n\n    this._authService\n      .register({ ...registerData })\n      .then((res) => {\n        this.isLoading = false;\n        this.login(registerData);\n        this._commonService.presentToast(res['message'], 1500);\n      })\n      .catch((err) => {\n        this.isLoading = false;\n        this._commonService.presentToast(err.error.message, 1500);\n      });\n  }\n\n  clickMenuItem(event) {\n    if (event == '/') {\n      this._router.navigateByUrl(`/forum/${event}`, { replaceUrl: true });\n    }\n  }\n}\n","export default \":host .spinner-container {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml6YXRpb24ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUFSIiwiZmlsZSI6ImF1dGhvcml6YXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3R7XG4gICAgLnNwaW5uZXItY29udGFpbmVyIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG59Il19 */\";","export default \"<spica-menu-bar project=\\\"forum\\\" [routeble]=\\\"false\\\" (clickMenuItem)=\\\"clickMenuItem($event)\\\"></spica-menu-bar>\\n<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <spica-authorization\\n    *ngIf=\\\"!isLoading\\\"\\n    (clickLogin)=\\\"login($event)\\\"\\n    (clickRegister)=\\\"register($event)\\\"\\n  >\\n  </spica-authorization>\\n  <div class=\\\"spinner-container\\\" *ngIf=\\\"isLoading\\\">\\n    <ion-spinner></ion-spinner>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}