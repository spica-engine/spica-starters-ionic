{"version":3,"sources":["./src/app/e-commerce/pages/category/category-routing.module.ts","./src/app/e-commerce/pages/category/category.module.ts","./src/app/e-commerce/pages/category/category.page.ts","./src/app/e-commerce/pages/category/category.page.scss","./src/app/e-commerce/pages/category/category.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wDAAY;KACxB;CACF,CAAC;IAMW,yBAAyB,SAAzB,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;AChBG;AACM;AACF;AAEA;AAEyB;AAEvB;AAC8B;IAYhE,kBAAkB,SAAlB,kBAAkB;CAAG;AAArB,kBAAkB;IAV9B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,+EAAyB;YACzB,uFAAqB;SACtB;QACD,YAAY,EAAE,CAAC,wDAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBmB;AACT;AACiB;AACL;IAOxC,YAAY,SAAZ,YAAY;IAMvB,YAAoB,OAAe,EAAU,YAAyB;QAAlD,YAAO,GAAP,OAAO,CAAQ;QAAU,iBAAY,GAAZ,YAAY,CAAa;QALtE,eAAU,GAA2B,EAAE,CAAC;QACxC,aAAQ,GAA0B,EAAE,CAAC;QAKnC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;IACjC,CAAC;IAED,QAAQ;QACN,6DACS,CAAC,EAAE,WAAW,EAAE,EAAE,MAAM,EAAE,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,CAAC;aAC/E,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACZ,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACxB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,kBAAkB,CAAC,EAAE;QACnB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,uBAAuB,CAAC,EAAE;YAC/C,WAAW,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE;SAC5B,CAAC,CAAC;IACL,CAAC;IAEK,aAAa,CAAC,KAAK;;YACvB,IAAI,CAAC,QAAQ,GAAG,MAAM,4DAA0B,CAAC;gBAC/C,WAAW,EAAE;oBACX,MAAM,EAAE;wBACN,GAAG,EAAE;4BACH,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE;4BAC3C,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE;yBAChD;wBACD,YAAY,EAAE,IAAI;qBACnB;oBACD,KAAK,EAAE,CAAC;iBACT;aACF,CAAC,CAAC;QACL,CAAC;KAAA;IAED,WAAW,CAAC,EAAE;QACZ,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,uCAAuC,EAAE,EAAE,CAAC,EAAE;YACnE,WAAW,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE;SAC5B,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACvB,CAAC;CACF;;YAzDQ,mDAAM;YACN,+DAAW;;AAQP,YAAY;IALxB,wDAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,6EAAmC;;KAEpC,CAAC;GACW,YAAY,CAgDxB;AAhDwB;;;;;;;;;;;;;;;;ACVzB,iEAAe,+BAA+B,kBAAkB,wBAAwB,iBAAiB,sBAAsB,GAAG,+CAA+C,gBAAgB,sBAAsB,oBAAoB,cAAc,eAAe,qBAAqB,GAAG,wDAAwD,oBAAoB,iBAAiB,GAAG,8BAA8B,gBAAgB,iBAAiB,mCAAmC,oBAAoB,cAAc,eAAe,GAAG,6CAA6C,mvCAAmvC,E;;;;;;;;;;;;;;;ACAtzD,iEAAe,0pBAA0pB,eAAe,wLAAwL,E","file":"src_app_e-commerce_pages_category_category_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CategoryPage } from './category.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoryPageRoutingModule } from './category-routing.module';\n\nimport { CategoryPage } from './category.page';\nimport { SpicaComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CategoryPageRoutingModule,\n    SpicaComponentsModule\n  ],\n  declarations: [CategoryPage]\n})\nexport class CategoryPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\nimport * as DataService from '../../services/bucket';\n\n@Component({\n  selector: 'app-category',\n  templateUrl: './category.page.html',\n  styleUrls: ['./category.page.scss'],\n})\nexport class CategoryPage implements OnInit {\n  categories: DataService.Category[] = [];\n  products: DataService.Product[] = [];\n  searchTerm: string;\n\n\n  constructor(private _router: Router, private _authService: AuthService) {\n    this._authService.initBucket();\n  }\n\n  ngOnInit() {\n    DataService.category\n      .getAll({ queryParams: { filter: { is_sub_category: false }, relation: true } })\n      .then((res) => {\n        this.categories = res;\n      });\n  }\n\n  navigateToProducts(id) {\n    this._router.navigate(['/e-commerce/products/'], {\n      queryParams: { cat_id: id },\n    });\n  }\n\n  async searchProduct(terms) {\n    this.products = await DataService.product.getAll({\n      queryParams: {\n        filter: {\n          $or: [\n            { title: { $regex: terms, $options: 'i' } },\n            { sub_title: { $regex: terms, $options: 'i' } },\n          ],\n          is_available: true,\n        },\n        limit: 7,\n      },\n    });\n  }\n\n  goToProduct(id){\n    this._router.navigate([`/e-commerce/products/product-detail/${id}`], {\n      queryParams: { cat_id: id },\n    });\n  }\n\n  ionViewDidLeave(){\n    this.searchTerm = \"\";\n  }\n}\n","export default \":host ion-header ion-toolbar {\\n  display: flex;\\n  align-items: center;\\n  height: 70px;\\n  padding-top: 15px;\\n}\\n:host ion-content .found-products-container {\\n  width: 100%;\\n  max-height: 250px;\\n  position: fixed;\\n  top: 70px;\\n  z-index: 1;\\n  overflow: scroll;\\n}\\n:host ion-content .found-products-container ion-item {\\n  padding: 0 15px;\\n  height: 50px;\\n}\\n:host ion-content .overlay {\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(0, 0, 0, 0.5);\\n  position: fixed;\\n  top: 70px;\\n  z-index: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQUROO0FBTUk7RUFDRSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtBQUpOO0FBTU07RUFDRSxlQUFBO0VBQ0EsWUFBQTtBQUpSO0FBUUk7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLDhCQUFBO0VBQ0EsZUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBTk4iLCJmaWxlIjoiY2F0ZWdvcnkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBpb24taGVhZGVyIHtcbiAgICBpb24tdG9vbGJhciB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGhlaWdodDogNzBweDtcbiAgICAgIHBhZGRpbmctdG9wOiAxNXB4O1xuICAgIH1cbiAgfVxuICBpb24tY29udGVudCB7XG5cbiAgICAuZm91bmQtcHJvZHVjdHMtY29udGFpbmVyIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgbWF4LWhlaWdodDogMjUwcHg7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB0b3A6IDcwcHg7XG4gICAgICB6LWluZGV4OiAxO1xuICAgICAgb3ZlcmZsb3c6IHNjcm9sbDtcblxuICAgICAgaW9uLWl0ZW0ge1xuICAgICAgICBwYWRkaW5nOiAwIDE1cHg7XG4gICAgICAgIGhlaWdodDogNTBweDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAub3ZlcmxheSB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHRvcDogNzBweDtcbiAgICAgIHotaW5kZXg6IDE7XG4gICAgfVxuICB9XG59XG4iXX0= */\";","export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar>\\n    <ion-searchbar mode=\\\"ios\\\" [debounce]=\\\"800\\\" (ionChange)=\\\"searchProduct($event.target['value'])\\\" [(ngModel)]=\\\"searchTerm\\\"></ion-searchbar>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <spica-category *ngIf=\\\"categories.length\\\" [categories]=\\\"categories\\\" (clickNavigate)=\\\"navigateToProducts($event)\\\"></spica-category>\\n\\n  <div class=\\\"overlay\\\" *ngIf=\\\"searchTerm\\\"></div>\\n\\n  <div class=\\\"found-products-container\\\" *ngIf=\\\"searchTerm\\\">\\n    <ion-list>\\n      <ion-item lines=\\\"none\\\" *ngFor=\\\"let product of products\\\" (click)=\\\"goToProduct(product._id)\\\">\\n        <ion-label>\\n          <h3>{{product.title}}</h3>\\n        </ion-label>\\n        <ion-icon name=\\\"chevron-forward-outline\\\" size=\\\"small\\\" slot=\\\"end\\\"></ion-icon>\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}