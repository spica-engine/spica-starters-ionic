{"version":3,"sources":["./src/app/job-portal/pages/my-companies/my-companies-routing.module.ts","./src/app/job-portal/pages/my-companies/my-companies.module.ts","./src/app/job-portal/pages/my-companies/my-companies.page.ts","./src/app/job-portal/pages/my-companies/my-companies.page.scss","./src/app/job-portal/pages/my-companies/my-companies.page.html"],"names":[],"mappings":"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","file":"src_app_job-portal_pages_my-companies_my-companies_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyCompaniesPage } from './my-companies.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      { path: '', component: MyCompaniesPage },\n      {\n        path: ':id',\n        children: [\n          { path: '', component: MyCompaniesPage },\n          {\n            path: 'profile',\n            loadChildren: () =>\n              import('../profile/profile.module').then(\n                (m) => m.ProfilePageModule\n              ),\n          },\n        ],\n      },\n      {\n        path: 'company',\n        loadChildren: () =>\n          import('../company/company.module').then((m) => m.CompanyPageModule),\n      },\n      {\n        path: 'profile',\n        loadChildren: () =>\n          import('../profile/profile.module').then((m) => m.ProfilePageModule),\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyCompaniesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyCompaniesPageRoutingModule } from './my-companies-routing.module';\n\nimport { MyCompaniesPage } from './my-companies.page';\nimport { JobPortalComponentModule } from '../../components/job-portal-components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MyCompaniesPageRoutingModule,\n    JobPortalComponentModule\n  ],\n  declarations: [MyCompaniesPage]\n})\nexport class MyCompaniesPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ModalController } from '@ionic/angular';\nimport { JobAppliesComponent } from '../../components/job-applies/job-applies.component';\nimport {\n  Company,\n  company,\n  job_advert,\n  Job_Advert,\n} from '../../services/bucket';\nimport { UserService } from '../../services/user.service';\n\n@Component({\n  selector: 'app-my-companies',\n  templateUrl: './my-companies.page.html',\n  styleUrls: ['./my-companies.page.scss'],\n})\nexport class MyCompaniesPage implements OnInit {\n  constructor(\n    private _userService: UserService,\n    private _route: ActivatedRoute,\n    private _modalController: ModalController,\n    private _router: Router\n  ) {}\n  companies: Company[] = [];\n  company: Company;\n  jobs: Job_Advert[];\n  loading: boolean = true;\n  async ngOnInit() {\n    let companyId = await this._route.snapshot.paramMap.get('id');\n    if (companyId) {\n      this.company = await company.get(companyId, {\n        queryParams: { relation: true },\n      });\n      this.jobs = await job_advert.getAll({\n        queryParams: { filter: { company: companyId }, relation: true },\n      });\n    }\n    this.loading = false;\n  }\n  async ionViewWillEnter() {\n    if (\n      this._userService.me.companies &&\n      this._userService.me.companies.length > 0\n    )\n      this.companies = await company.getAll({\n        queryParams: {\n          filter: {\n            _id: { $in: this._userService.me.companies.map((item) => item) },\n          },\n        },\n      });\n  }\n  async clickedJob(job) {\n    const modal = await this._modalController.create({\n      component: JobAppliesComponent,\n      cssClass: 'my-custom-class',\n      componentProps: { job },\n    });\n\n    modal.onWillDismiss().then(async (res) => {\n      console.log('res :', res);\n      if (res.data) {\n        if (res.data.user) {\n          this._router.navigate(['profile/' + res.data.user._id], {\n            relativeTo: this._route,\n          });\n        }\n      }\n    });\n    return await modal.present();\n  }\n}\n","export default \":host ion-list {\\n  padding-bottom: 10px;\\n  margin-top: 15px;\\n  padding-left: 10px;\\n  font-size: 18px;\\n}\\n:host ion-list ion-item {\\n  padding-left: 20px;\\n}\\n:host ion-list ion-item.new-one {\\n  margin-top: 20px;\\n}\\n:host .cover-img {\\n  height: 100px;\\n  box-shadow: 22px 2px 32px -12px rgba(0, 0, 0, 0.43);\\n}\\n:host .cover-img img {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n:host .broken-img {\\n  object-fit: contain !important;\\n}\\n:host .company-infos {\\n  margin: 10px;\\n}\\n:host .company-infos ion-item {\\n  margin-top: 20px;\\n}\\n:host .company-infos a {\\n  font-size: 12px;\\n  margin: 10px 20px;\\n}\\n:host .company-infos .address {\\n  opacity: 0.6;\\n  font-size: 11px;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\\n  padding-bottom: 10px;\\n  margin: 5px 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15LWNvbXBhbmllcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxvQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FBQUo7QUFDSTtFQUNFLGtCQUFBO0FBQ047QUFBTTtFQUNFLGdCQUFBO0FBRVI7QUFHRTtFQUNFLGFBQUE7RUFDQSxtREFBQTtBQURKO0FBRUk7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FBQU47QUFHRTtFQUNFLDhCQUFBO0FBREo7QUFHRTtFQUNFLFlBQUE7QUFESjtBQUVJO0VBQ0UsZ0JBQUE7QUFBTjtBQUVJO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FBQU47QUFFSTtFQUNFLFlBQUE7RUFDQSxlQUFBO0VBQ0EsMkNBQUE7RUFDQSxvQkFBQTtFQUNBLGdCQUFBO0FBQU4iLCJmaWxlIjoibXktY29tcGFuaWVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgaW9uLWxpc3Qge1xuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBpb24taXRlbSB7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG4gICAgICAmLm5ldy1vbmUge1xuICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC5jb3Zlci1pbWcge1xuICAgIGhlaWdodDogMTAwcHg7XG4gICAgYm94LXNoYWRvdzogMjJweCAycHggMzJweCAtMTJweCByZ2IoMCAwIDAgLyA0MyUpO1xuICAgIGltZyB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgIH1cbiAgfVxuICAuYnJva2VuLWltZyB7XG4gICAgb2JqZWN0LWZpdDogY29udGFpbiAhaW1wb3J0YW50O1xuICB9XG4gIC5jb21wYW55LWluZm9zIHtcbiAgICBtYXJnaW46IDEwcHg7XG4gICAgaW9uLWl0ZW0ge1xuICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICB9XG4gICAgYSB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBtYXJnaW46IDEwcHggMjBweDtcbiAgICB9XG4gICAgLmFkZHJlc3Mge1xuICAgICAgb3BhY2l0eTogMC42O1xuICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgICAgbWFyZ2luOiA1cHggMjBweDtcbiAgICB9XG4gIH1cbn1cbiJdfQ== */\";","export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{company ? company.title :'Company List'}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-list *ngIf=\\\"!company && !loading\\\">\\n    <ion-item\\n      *ngFor=\\\"let company of companies\\\"\\n      [detail]=\\\"true\\\"\\n      [routerLink]=\\\"[company._id]\\\"\\n    >\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img\\n          [src]=\\\"company.logo || '../../../../assets/job-portal/broken-image.png'\\\"\\n        />\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h2>{{company['title']}}</h2>\\n      </ion-label>\\n    </ion-item>\\n    <ion-item\\n      [routerLink]=\\\"['company/add']\\\"\\n      class=\\\"new-one\\\"\\n      [detail]=\\\"false\\\"\\n      lines=\\\"none\\\"\\n    >\\n      <ion-icon slot=\\\"start\\\" name=\\\"add\\\"> </ion-icon>\\n      <ion-label>\\n        <h2>Add New One</h2>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <div *ngIf=\\\"company && !loading\\\">\\n    <div class=\\\"cover-img\\\">\\n      <img\\n        [class.broken-img]=\\\"!company.cover_photo\\\"\\n        [src]=\\\"company.cover_photo || '../../../../assets/job-portal/broken-image.png'\\\"\\n        alt=\\\"\\\"\\n      />\\n    </div>\\n    <div class=\\\"company-infos\\\">\\n      <ion-item [detail]=\\\"false\\\" lines=\\\"none\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <img\\n            [src]=\\\"company['logo'] || '../../../../assets/job-portal/broken-image.png'\\\"\\n            alt=\\\"\\\"\\n          />\\n        </ion-avatar>\\n        <h3>{{company['title']}}</h3>\\n      </ion-item>\\n      <a [href]=\\\"company.web_site\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"\\n        >{{company.web_site}}\\n      </a>\\n      <div class=\\\"address\\\">\\n        {{company['address']['city']}}/{{company['address']['country']}}\\n      </div>\\n      <h5>My Adverts</h5>\\n    </div>\\n  </div>\\n  <job-card\\n    *ngFor=\\\"let item of jobs\\\"\\n    [job]=\\\"item\\\"\\n    [routable]=\\\"false\\\"\\n    (clickJob)=\\\"clickedJob($event)\\\"\\n  ></job-card>\\n  <ion-spinner\\n    *ngIf=\\\"loading\\\"\\n    class=\\\"spinner-center-page\\\"\\n    name=\\\"crescent\\\"\\n  ></ion-spinner>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}