{"version":3,"sources":["./src/app/fitness/pages/categories/categories-routing.module.ts","./src/app/fitness/pages/categories/categories.module.ts","./src/app/fitness/pages/categories/categories.page.ts","./src/app/fitness/pages/categories/categories.page.scss","./src/app/fitness/pages/categories/categories.page.html"],"names":[],"mappings":"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","file":"src_app_fitness_pages_categories_categories_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CategoriesPage } from './categories.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoriesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoriesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoriesPageRoutingModule } from './categories-routing.module';\n\nimport { CategoriesPage } from './categories.page';\nimport { SpicaComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CategoriesPageRoutingModule,\n    SpicaComponentsModule\n  ],\n  declarations: [CategoriesPage]\n})\nexport class CategoriesPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {\n  Category,\n  teacher,\n  Teacher,\n  teacher_speciality,\n  Teacher_Speciality,\n  User,\n} from '../../services/bucket';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\nimport { CommonService } from 'src/app/services/common.service';\n\n@Component({\n  selector: 'app-categories',\n  templateUrl: './categories.page.html',\n  styleUrls: ['./categories.page.scss'],\n})\nexport class CategoriesPage implements OnInit {\n  branches: Teacher_Speciality[];\n  catagories: Category[];\n  teacher: Teacher[];\n  loading: boolean = true;\n  me: User;\n\n  constructor(\n    private _router: Router,\n    private _authService: AuthService,\n    private _commonService: CommonService\n  ) {\n    this._authService.initBucket();\n  }\n\n  ngOnInit() {\n    this.getMe();\n    // this.getBranches();\n    // this.getTeacher()\n  }\n  async getBranches() {\n    this.branches = await teacher_speciality.getAll({\n      queryParams: { relation: true },\n    });\n    this.branches.forEach((item) => {\n      item['sub_categories'] = item.categories;\n      return item;\n    }) as any;\n  }\n  async getTeacher() {\n    this.teacher = await teacher.getAll();\n  }\n  navigateCategory(id) {\n    this._router.navigate(['fitness/branch-categories/' + id]);\n  }\n  async login(loginData) {\n    this.loading = true;\n    this._authService\n      .login(loginData.email, loginData.password)\n      .toPromise()\n      .then(\n        (_) => {\n          this.me = undefined;\n          this.getMe();\n        },\n        (err) => {\n          this.loading = false;\n          this._commonService.presentToast(err.message, 1500);\n        }\n      );\n  }\n\n  async register(registerData) {\n    this._authService\n      .register({ ...registerData })\n      .then((res) => {\n        this.login(registerData);\n        this._commonService.presentToast(res['message'], 1500);\n      })\n      .catch((err) => {\n        this._commonService.presentToast(err.error.message, 1500);\n      });\n  }\n  getMe() {\n    this._authService\n      .getUser()\n      .toPromise()\n      .then(\n        async (data: User) => {\n          if (data && !this.me) {\n            this.me = data;\n            this.loading = false;\n            this.getBranches();\n            this.getTeacher();\n          } else this.loading = false;\n        },\n        (err) => {\n          console.log('err :', err);\n          this.loading = false;\n        }\n      );\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXRlZ29yaWVzLnBhZ2Uuc2NzcyJ9 */\";","export default \"<spica-menu-bar *ngIf=\\\"me && !loading\\\" project=\\\"fitness\\\"></spica-menu-bar>\\n<ion-header mode=\\\"ios\\\" *ngIf=\\\"!loading && me\\\">\\n  <ion-toolbar>\\n    <ion-title>Categories</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngIf=\\\"me && !loading\\\">\\n    <spica-category\\n      [categories]=\\\"branches\\\"\\n      (clickNavigate)=\\\"navigateCategory($event)\\\"\\n    ></spica-category>\\n  </div>\\n  <spica-authorization\\n  *ngIf=\\\"!me && !loading\\\"\\n  (clickLogin)=\\\"login($event)\\\"\\n  (clickRegister)=\\\"register($event)\\\"\\n></spica-authorization>\\n</ion-content>\\n<ion-spinner\\n  *ngIf=\\\"loading\\\"\\n  class=\\\"spinner-center-page\\\"\\n  name=\\\"crescent\\\"\\n></ion-spinner>\\n\\n\";"],"sourceRoot":"webpack:///"}