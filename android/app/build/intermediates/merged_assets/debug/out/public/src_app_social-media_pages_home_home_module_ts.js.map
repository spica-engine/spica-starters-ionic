{"version":3,"sources":["./src/app/social-media/pages/home/home-routing.module.ts","./src/app/social-media/pages/home/home.module.ts","./src/app/social-media/pages/home/home.page.ts","./src/app/social-media/pages/home/home.page.scss","./src/app/social-media/pages/home/home.page.html"],"names":[],"mappings":"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","file":"src_app_social-media_pages_home_home_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: HomePage,\n      },\n      {\n        path: 'profile',\n        loadChildren: () =>\n          import('../social-profile/social-profile.module').then(\n            (m) => m.SocialProfilePageModule\n          ),\n      },\n      // {\n      //   path: \"discover\",\n      //   loadChildren: () =>\n      //     import(\"./pages/discover/discover.module\").then(\n      //       (m) => m.DiscoverPageModule\n      //     ),\n      // },\n      {\n        path: 'chats',\n        loadChildren: () =>\n          import('../chat/chats/chats.module').then((m) => m.ChatsPageModule),\n      },\n      {\n        path: 'activity',\n        loadChildren: () =>\n          import('../activity/activity.module').then(\n            (m) => m.ActivityPageModule\n          ),\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { HomePageRoutingModule } from './home-routing.module';\nimport { HomePage } from './home.page';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { HttpClient } from '@angular/common/http';\nimport { ComponentsModule } from '../../components/components.module';\nexport function createTranslateLoader(http: HttpClient) {\n  return new TranslateHttpLoader(http, '../assets/i18n/', '.json');\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: createTranslateLoader,\n        deps: [HttpClient],\n      },\n      extend: true,\n    }),\n    ComponentsModule,\n  ],\n  declarations: [HomePage],\n})\nexport class HomePageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport {\n  IonContent,\n  IonInfiniteScroll,\n  IonRefresher,\n  ModalController,\n  ToastController,\n} from '@ionic/angular';\nimport { PostService } from '../../services/post.service';\nimport { ActivityService } from './../../services/activity.service';\nimport { HashtagService } from './../../services/hashtag.service';\nimport { first } from 'rxjs/operators';\nimport { ChatService } from './../../services/chat.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { UserService } from '../../services/user.service';\nimport { Post, User, post, initialize, follow } from '../../services/bucket';\nimport { PostCreatePage } from '../post-create/post-create.page';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  @ViewChild(IonInfiniteScroll, { static: false })\n  infiniteScroll: IonInfiniteScroll;\n  @ViewChild(IonRefresher) ionRefresher: IonRefresher;\n  @ViewChild(IonContent, { read: IonContent, static: false })\n  private content: IonContent;\n\n  posts: Post[] = [];\n  me: User;\n  loading: boolean = true;\n  scroll_params = {\n    skip: 0,\n    limit: 10,\n  };\n  unseenActivities: number;\n  hasTags: [] = [];\n  discarded_post: string = '';\n  unreadMessages: number = 0;\n  user_followers = [];\n  activitySubscribe: Subscription;\n  chatSubscribe: Subscription;\n  userSubscription: Subscription;\n\n  constructor(\n    private _userService: UserService,\n    private _postService: PostService,\n    private _activityService: ActivityService,\n    private _hashtagService: HashtagService,\n    public modalController: ModalController,\n    private _chatService: ChatService,\n    private _toastController: ToastController,\n    private _translateService: TranslateService\n  ) {\n    initialize({ identity: localStorage.getItem('socialmedia_spica_token') });\n  }\n  ngOnInit() {\n    this.activitySubscribe = this._activityService\n      .getUnseenActivity()\n      .subscribe((data) => (this.unseenActivities = data));\n    this.chatSubscribe = this._chatService\n      .getUnreadMessageCount()\n      .subscribe((data) => (this.unreadMessages = data));\n    this.userSubscription = this._userService\n      .getActiveUser()\n      .subscribe(async (data) => {\n        if (data && !this.me) {\n          this.me = data;\n          await this.setFollowers();\n          this.getPosts();\n        }\n      });\n  }\n  ngOnDestroy(): void {\n    this.activitySubscribe.unsubscribe();\n    this.chatSubscribe.unsubscribe();\n    this.userSubscription.unsubscribe();\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n  }\n  async setFollowers() {\n    let followers: any = await this.getUserFollowing();\n    this.user_followers = followers.map((item) => (item = item.following));\n    this.user_followers.push(this.me._id);\n  }\n  getUserFollowing() {\n    return follow.getAll({\n      queryParams: {\n        filter: {\n          follower: this.me._id,\n        },\n      },\n    });\n  }\n  getPosts() {\n    this._postService\n      .getPosts({\n        filter: { user: { $in: this.user_followers } },\n        sort: { _id: -1 },\n        skip: this.scroll_params.skip,\n        limit: this.scroll_params.limit,\n      })\n      .then((data) => {\n        this.posts = this.posts.concat(data);\n        this.loading = false;\n        this.ionRefresher.complete();\n        if (this.infiniteScroll) this.infiniteScroll.complete();\n      });\n  }\n\n  loadData() {\n    this.scroll_params.skip += this.scroll_params.limit;\n    this.getPosts();\n  }\n  setInitialSettings() {\n    if (this.infiniteScroll) this.infiniteScroll.disabled = false;\n    this.scroll_params.skip = 0;\n  }\n\n  deletedPost(event) {\n    this.discarded_post = event;\n    post.remove(event).then(() => {\n      this.posts = this.posts.filter((item) => item._id != event);\n      this.discarded_post = '';\n      this.content.scrollToTop(0);\n    });\n  }\n\n  async checkTagCreate(text) {\n    this.hasTags = await this._hashtagService.checkTagCreate(\n      text,\n      this.hasTags\n    );\n  }\n\n  editedPost(event) {\n    let index = -1;\n    index = this.posts.findIndex((i) => i._id == event._id);\n    if (index != -1) {\n      this.posts[index] = event;\n      this.posts = JSON.parse(JSON.stringify(this.posts));\n    }\n  }\n  async doRefresh() {\n    this.posts = [];\n    await this.setFollowers();\n    this.setInitialSettings();\n    this.loading = false;\n    this.getPosts();\n  }\n  reportedPost(post) {\n    this.discarded_post = post._id;\n    this.posts = this.posts.filter((item) => item._id != post._id);\n    this.discarded_post = '';\n  }\n  async addPost() {\n    const modal = await this.modalController.create({\n      component: PostCreatePage,\n      swipeToClose: true,\n      componentProps: {\n        user: this.me,\n      },\n    });\n    await modal.present();\n    let resData = await modal.onDidDismiss();\n    if (resData.data.refresh) {\n      this._postService\n        .getPosts({ filter: { _id: { $in: [resData.data.editpost._id] } } })\n        .then(async (data) => {\n          this.posts.unshift(data[0]);\n          this.content.scrollToTop();\n          let toast = await this._toastController.create({\n            header: this._translateService.instant('post-create-info'),\n            duration: 3000,\n            cssClass: 'toast-custom-class',\n          });\n          toast.present();\n        });\n      this.content.scrollToTop();\n    }\n  }\n}\n","export default \":host .logo {\\n  align-items: center;\\n  display: flex;\\n  color: var(--cd-logo-color);\\n  font-weight: bold;\\n}\\n:host .logo ion-icon {\\n  padding-right: 10px;\\n}\\n:host ion-toolbar {\\n  --border-color: var(--cd-divider-color);\\n}\\n:host ion-toolbar ion-icon {\\n  width: 30px;\\n  height: 30px;\\n}\\n:host ion-toolbar .with_badge ion-icon {\\n  padding-right: 3px;\\n}\\n:host ion-toolbar .with_badge ion-badge {\\n  position: absolute;\\n  top: 0;\\n  right: -5px;\\n}\\n:host ion-fab-button {\\n  font-size: 2rem;\\n}\\n:host .premium-explores {\\n  position: relative;\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: 30px;\\n}\\n:host .premium-explores .title {\\n  font-weight: bold;\\n  font-size: 1.2rem;\\n  padding: 0px 10px;\\n}\\n:host .premium-explores .cards {\\n  display: flex;\\n  position: relative;\\n  padding: 15px 10px 30px;\\n  border-bottom: 1px solid var(--cd-divider-color);\\n  overflow-x: auto;\\n}\\n:host .premium-explores .cards .user-card {\\n  padding: 0px 3px;\\n}\\n:host .home-posts {\\n  display: flex;\\n  flex-direction: column;\\n}\\n:host .home-posts post-card {\\n  transition: all 0.3s ease-out;\\n  scroll-snap-align: start;\\n}\\n:host .home-posts post-card:last-of-type {\\n  border-bottom: 0px;\\n}\\n:host .home-posts post-card.discarded {\\n  transform: translateX(50px);\\n  opacity: 0;\\n}\\n:host .discover-seperator {\\n  font-weight: bold;\\n  font-size: 1.2rem;\\n  padding: 15px;\\n}\\n:host .info-backdrop {\\n  opacity: 0.3;\\n}\\n:host .spica-card .body-content .image img {\\n  border-radius: 4px;\\n  max-height: 250px;\\n  object-fit: cover;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsMkJBQUE7RUFDQSxpQkFBQTtBQUFKO0FBQ0k7RUFDRSxtQkFBQTtBQUNOO0FBR0U7RUFDRSx1Q0FBQTtBQURKO0FBRUk7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQUFOO0FBR007RUFDRSxrQkFBQTtBQURSO0FBR007RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxXQUFBO0FBRFI7QUFLRTtFQUNFLGVBQUE7QUFISjtBQUtFO0VBQ0Usa0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtBQUhKO0FBSUk7RUFDRSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7QUFGTjtBQUtJO0VBQ0UsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnREFBQTtFQUNBLGdCQUFBO0FBSE47QUFJTTtFQUNFLGdCQUFBO0FBRlI7QUFNRTtFQUVFLGFBQUE7RUFDQSxzQkFBQTtBQUxKO0FBTUk7RUFDRSw2QkFBQTtFQUNBLHdCQUFBO0FBSk47QUFLTTtFQUNFLGtCQUFBO0FBSFI7QUFLTTtFQUNFLDJCQUFBO0VBQ0EsVUFBQTtBQUhSO0FBT0U7RUFDRSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtBQUxKO0FBUUU7RUFDRSxZQUFBO0FBTko7QUFXRTtFQUNFLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtBQVRKIiwiZmlsZSI6ImhvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAubG9nbyB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGNvbG9yOiB2YXIoLS1jZC1sb2dvLWNvbG9yKTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBpb24taWNvbiB7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICAgIH1cbiAgfVxuXG4gIGlvbi10b29sYmFyIHtcbiAgICAtLWJvcmRlci1jb2xvcjogdmFyKC0tY2QtZGl2aWRlci1jb2xvcik7XG4gICAgaW9uLWljb24ge1xuICAgICAgd2lkdGg6IDMwcHg7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgfVxuICAgIC53aXRoX2JhZGdlIHtcbiAgICAgIGlvbi1pY29uIHtcbiAgICAgICAgcGFkZGluZy1yaWdodDogM3B4O1xuICAgICAgfVxuICAgICAgaW9uLWJhZGdlIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAtNXB4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpb24tZmFiLWJ1dHRvbiB7XG4gICAgZm9udC1zaXplOiAycmVtO1xuICB9XG4gIC5wcmVtaXVtLWV4cGxvcmVzIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgLnRpdGxlIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgICBwYWRkaW5nOiAwcHggMTBweDtcbiAgICB9XG5cbiAgICAuY2FyZHMge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHBhZGRpbmc6IDE1cHggMTBweCAzMHB4O1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWNkLWRpdmlkZXItY29sb3IpO1xuICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAgIC51c2VyLWNhcmQge1xuICAgICAgICBwYWRkaW5nOiAwcHggM3B4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAuaG9tZS1wb3N0cyB7XG4gICAgLy9wYWRkaW5nOiAxNXB4IDBweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgcG9zdC1jYXJkIHtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2Utb3V0O1xuICAgICAgc2Nyb2xsLXNuYXAtYWxpZ246IHN0YXJ0O1xuICAgICAgJjpsYXN0LW9mLXR5cGUge1xuICAgICAgICBib3JkZXItYm90dG9tOiAwcHg7XG4gICAgICB9XG4gICAgICAmLmRpc2NhcmRlZCB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1MHB4KTtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLmRpc2NvdmVyLXNlcGVyYXRvciB7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgcGFkZGluZzogMTVweDtcbiAgfVxuXG4gIC5pbmZvLWJhY2tkcm9wIHtcbiAgICBvcGFjaXR5OiAwLjM7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLy9cblxuICAuc3BpY2EtY2FyZCAuYm9keS1jb250ZW50IC5pbWFnZSBpbWcge1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBtYXgtaGVpZ2h0OiAyNTBweDtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgfVxufVxuIl19 */\";","export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <div class=\\\"logo\\\">\\n        <ion-icon name=\\\"logo-ionic\\\"></ion-icon>\\n        {{\\\"Social Media\\\" |translate}}\\n      </div>\\n    </ion-buttons>\\n    <ion-title> </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button class=\\\"with_badge\\\" [routerLink]=\\\"['chats/list']\\\">\\n        <ion-icon name=\\\"mail-outline\\\"></ion-icon>\\n        <ion-badge color=\\\"primary\\\" *ngIf=\\\"unreadMessages\\\"\\n          >{{unreadMessages}}</ion-badge\\n        >\\n      </ion-button>\\n      <ion-button [routerLink]=\\\"['activity']\\\" class=\\\"with_badge\\\">\\n        <ion-icon name=\\\"notifications-outline\\\"></ion-icon>\\n        <ion-badge color=\\\"primary\\\" *ngIf=\\\"unseenActivities\\\"\\n          >{{unseenActivities}}</ion-badge\\n        >\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content fullscreen [scrollEvents]=\\\"true\\\">\\n  <div class=\\\"home-posts\\\">\\n    <ion-refresher\\n      slot=\\\"fixed\\\"\\n      pullFactor=\\\"0.5\\\"\\n      pullMin=\\\"100\\\"\\n      pullMax=\\\"200\\\"\\n      (ionRefresh)=\\\"doRefresh()\\\"\\n    >\\n      <ion-refresher-content></ion-refresher-content>\\n    </ion-refresher>\\n    <ng-container>\\n      <ng-container *ngFor=\\\"let post of posts;let index = index\\\">\\n        <post-card\\n          [class.discarded]=\\\"discarded_post==post._id\\\"\\n          [post]=\\\"post\\\"\\n          (deletedPost)=\\\"deletedPost($event)\\\"\\n          (editedPost)=\\\"editedPost($event)\\\"\\n          (rePorted)=\\\"reportedPost($event)\\\"\\n        >\\n        </post-card>\\n      </ng-container>\\n      <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData()\\\">\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\">\\n        </ion-infinite-scroll-content>\\n      </ion-infinite-scroll>\\n    </ng-container>\\n\\n    <ion-spinner\\n      *ngIf=\\\"loading\\\"\\n      class=\\\"spinner-center-page\\\"\\n      name=\\\"crescent\\\"\\n    ></ion-spinner>\\n  </div>\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"addPost()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}