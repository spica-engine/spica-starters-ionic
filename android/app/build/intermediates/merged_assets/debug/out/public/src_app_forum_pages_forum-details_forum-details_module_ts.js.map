{"version":3,"sources":["./src/app/forum/pages/forum-details/forum-details-routing.module.ts","./src/app/forum/pages/forum-details/forum-details.module.ts","./src/app/forum/pages/forum-details/forum-details.page.ts","./src/app/forum/pages/forum-details/forum-details.page.scss","./src/app/forum/pages/forum-details/forum-details.page.html"],"names":[],"mappings":"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","file":"src_app_forum_pages_forum-details_forum-details_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ForumDetailsPage } from './forum-details.page';\n\nconst routes: Routes = [\n  {\n    path: ':id',\n    component: ForumDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ForumDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ForumDetailsPageRoutingModule } from './forum-details-routing.module';\n\nimport { ForumDetailsPage } from './forum-details.page';\nimport { ForumComponentModule } from '../../components/forum-components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ForumDetailsPageRoutingModule,\n    ForumComponentModule\n  ],\n  declarations: [ForumDetailsPage]\n})\nexport class ForumDetailsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport * as DataService from '../../services/bucket';\nimport { ActivatedRoute } from '@angular/router';\nimport { AddCommentModalComponent } from '../../components/add-comment-modal/add-comment-modal.component';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-forum-details',\n  templateUrl: './forum-details.page.html',\n  styleUrls: ['./forum-details.page.scss'],\n})\nexport class ForumDetailsPage implements OnInit {\n  comment: DataService.Comment;\n  id: any;\n  userId: string;\n  user: DataService.User;\n  constructor(\n    private _activatedRoute: ActivatedRoute,\n    private _modalController: ModalController,\n    private _authService: AuthService\n  ) {\n    this._authService.initBucket();\n  }\n\n  async ngOnInit() {\n    this.id = this._activatedRoute.snapshot.params.id;\n    this.userId = (await this._authService.getUser().toPromise())?._id;\n    if (this.userId) {\n      this.getUser();\n    }\n    this.getComment();\n  }\n\n  async getUser() {\n    this.user = await DataService.user.get(this.userId, {\n      queryParams: { relation: true },\n    });\n  }\n\n  async getComment() {\n    this.comment = await DataService.comment.get(this.id, {\n      queryParams: {\n        relation: [\n          'comments.user',\n          'user',\n          'likes',\n          'dislikes',\n          'comments.likes',\n          'comments.dislikes',\n        ],\n      },\n    });\n  }\n\n  async addCommentModal() {\n    const commentModal = await this._modalController.create({\n      component: AddCommentModalComponent,\n      swipeToClose: true,\n      componentProps: {\n        commentId: this.id,\n      },\n    });\n\n    commentModal.onWillDismiss().then(async (res) => {\n      if (!res.data || res.data.action == 'close') {\n        return;\n      } else {\n        res.data.comment['user'] = this.user;\n        this.comment.comments = this.comment.comments || [];\n        this.comment.comments.push(res.data.comment);\n      }\n    });\n\n    return await commentModal.present();\n  }\n}\n","export default \":host ion-content .main-comment .add-comment {\\n  margin: 10px;\\n  --border-radius:18px;\\n  font-weight: 600;\\n}\\n:host .comment-answers ion-card {\\n  margin: 5px 8px 0 14px;\\n}\\n:host .comment-answers ion-card ion-card-header {\\n  padding: 10px;\\n  display: flex;\\n  align-items: center;\\n}\\n:host .comment-answers ion-card ion-card-header ion-avatar {\\n  display: flex;\\n  justify-content: center;\\n}\\n:host .comment-answers ion-card ion-card-header ion-avatar img {\\n  width: 40px;\\n  height: 40px;\\n}\\n:host .comment-answers ion-card ion-card-header .nick {\\n  margin-left: 3px;\\n  font-weight: 600;\\n}\\n:host .comment-answers ion-card ion-card-header ion-button {\\n  --padding-start: 5px;\\n}\\n:host .comment-answers ion-card ion-card-content ion-label p {\\n  font-weight: 600;\\n  margin-bottom: 20px;\\n}\\n:host .comment-answers ion-card ion-card-content ion-button {\\n  font-size: 12px;\\n  --padding-start: 10px;\\n  --padding-end:10px;\\n  --border-radius:8px;\\n}\\n:host .comment-answers ion-card ion-card-content ion-button ion-icon {\\n  margin-right: 3px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcnVtLWRldGFpbHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdZO0VBQ0ksWUFBQTtFQUNBLG9CQUFBO0VBQ0EsZ0JBQUE7QUFGaEI7QUFRUTtFQUNJLHNCQUFBO0FBTlo7QUFPWTtFQUNJLGFBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUFMaEI7QUFNZ0I7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7QUFKbEI7QUFLa0I7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQUhwQjtBQU1nQjtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7QUFKbEI7QUFNZ0I7RUFDRSxvQkFBQTtBQUpsQjtBQVNrQjtFQUNFLGdCQUFBO0VBQ0EsbUJBQUE7QUFQcEI7QUFVZ0I7RUFDRSxlQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FBUmxCO0FBU2tCO0VBQ0UsaUJBQUE7QUFQcEIiLCJmaWxlIjoiZm9ydW0tZGV0YWlscy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdHtcclxuICAgIGlvbi1jb250ZW50e1xyXG4gICAgICAgIC5tYWluLWNvbW1lbnR7XHJcbiAgICAgICAgICAgIC5hZGQtY29tbWVudHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogMTBweDtcclxuICAgICAgICAgICAgICAgIC0tYm9yZGVyLXJhZGl1czoxOHB4O1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuICAgIC5jb21tZW50LWFuc3dlcnN7XHJcbiAgICAgICAgaW9uLWNhcmR7XHJcbiAgICAgICAgICAgIG1hcmdpbjogNXB4IDhweCAwIDE0cHg7XHJcbiAgICAgICAgICAgIGlvbi1jYXJkLWhlYWRlciB7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBpb24tYXZhdGFyIHtcclxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgIGltZyB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAubmljayB7XHJcbiAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAzcHg7XHJcbiAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpb24tYnV0dG9uIHtcclxuICAgICAgICAgICAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiA1cHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpb24tY2FyZC1jb250ZW50IHtcclxuICAgICAgICAgICAgICAgIGlvbi1sYWJlbCB7XHJcbiAgICAgICAgICAgICAgICAgIHAge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW9uLWJ1dHRvbiB7XHJcbiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICAgICAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgICAtLXBhZGRpbmctZW5kOjEwcHg7XHJcbiAgICAgICAgICAgICAgICAgIC0tYm9yZGVyLXJhZGl1czo4cHg7XHJcbiAgICAgICAgICAgICAgICAgIGlvbi1pY29ue1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogM3B4O1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ== */\";","export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar>\\n    <ion-back-button defaultHref=\\\"forum\\\" slot=\\\"start\\\"></ion-back-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ng-container *ngIf=\\\"comment\\\">\\n    <div class=\\\"main-comment\\\">\\n      <post-card [comment]=\\\"comment\\\" [details]=\\\"true\\\" [user]=\\\"user\\\"></post-card>\\n      <ion-button\\n        expand=\\\"block\\\"\\n        color=\\\"primary\\\"\\n        fill=\\\"outline\\\"\\n        class=\\\"add-comment\\\"\\n        (click)=\\\"addCommentModal()\\\"\\n        [disabled]=\\\"!user\\\"\\n        >Add a comment</ion-button\\n      >\\n    </div>\\n    <post-card\\n      [comment]=\\\"answer\\\"\\n      [isComment]=\\\"true\\\"\\n      [details]=\\\"true\\\"\\n      [user]=\\\"user\\\"\\n      *ngFor=\\\"let answer of this.comment.comments\\\"\\n    ></post-card>\\n  </ng-container>\\n  <ion-spinner *ngIf=\\\"!comment\\\" class=\\\"spinner-center-page\\\"></ion-spinner>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}